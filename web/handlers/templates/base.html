{{define "base"}}
<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-900">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{block "title" .}}dbate{{end}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* HTMX indicators */
        .htmx-indicator {
            display: none;
        }
        .htmx-request .htmx-indicator {
            display: inline-block;
        }
        .htmx-request.htmx-indicator {
            display: inline-block;
        }

        /* Turn content */
        .turn-content {
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Animations */
        @keyframes pulse-border {
            0%, 100% { border-color: #3b82f6; }
            50% { border-color: #93c5fd; }
        }
        .polling {
            animation: pulse-border 2s infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937;
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }

        /* Better focus states */
        *:focus {
            outline: none;
        }

        /* Line clamp utility */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="h-full bg-gray-900 text-gray-100 flex flex-col min-h-screen" hx-boost="true">
    <nav class="bg-gray-800 shadow-lg border-b border-gray-700 sticky top-0 z-50 backdrop-blur-sm bg-opacity-95">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="flex items-center space-x-2 group">
                        <span class="text-2xl transform transition-transform group-hover:scale-110">ðŸŽ­</span>
                        <span class="font-bold text-xl text-white">dbate</span>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/debates" class="text-gray-300 hover:text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-gray-700">
                        History
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-1 max-w-7xl w-full mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <div id="error-container" class="mb-4"></div>
        {{block "content" .}}{{end}}
    </main>

    <footer class="border-t border-gray-700 bg-gray-800 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                <p class="text-gray-400 text-sm">
                    dbate - AI-powered debate tool
                </p>
                <div class="flex items-center gap-4 text-xs text-gray-500">
                    <a href="/new" class="hover:text-gray-300 transition-colors">New Debate</a>
                    <span>â€¢</span>
                    <a href="/debates" class="hover:text-gray-300 transition-colors">History</a>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
{{end}}
